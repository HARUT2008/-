<html>
  <body>
   <canvas id="c" width="800" height="600"></canvas>
    <script>
      const C = document.getElementById("c").getContext("2d");
      const W = C.canvas.width;
      const H = C.canvas.height;
      const x0 = W / 2;
      const y0 = H / 2;
      const point = 80; 

      const I = C.getImageData(0, 0, W, H);
      drawSpiral(I.data);
      C.putImageData(I, 0, 0);

      function drawSpiral(D){
        
        for(let y=0,i=0; y<H; y++){
          for(let x=0; x<W; x++){
            const p = getSpiralPixel(x, y);
            D[i++] = p.r * 255;
            D[i++] = p.g * 255;
            D[i++] = p.b * 255;
            D[i++] = p.a * 255;
          }
        }
      }

      function getSpiralPixel(x, y){
        const X = (x - x0) / point;
        const Y = (y0 - y) / point;
        
        
        if (isNearSpiral(X, Y, 0.015)) {
          return { r: 0, g: 0, b: 0, a: 1 };
        }
        
        if (isNearTriangles(X, Y, 0.01)) {
          return { r: 0, g: 0.5, b: 1, a: 1}; 
        }
        
        return { r: 0, g: 0, b: 0, a: 0 }; 
      }

      function isNearSpiral(x, y, eps){
        let angle = 0;
        
        for(let n = 1; n <= 16; n++){
          const radius = Math.sqrt(n);
          if(n > 1){
            angle += Math.atan(1 / Math.sqrt(n-1));
          }
          
          const spiralX = radius * Math.cos(angle);
          const spiralY = radius * Math.sin(angle);
          
          const dist = Math.hypot(x - spiralX, y - spiralY);
          if(dist < eps) return true;
        }
        return false;
      }

      function isNearTriangles(x, y, eps){
        let px = 0, py = 0;
        let angle = 0;
        
        for(let n = 1; n <= 16; n++){
          const radius = Math.sqrt(n);
          const newAngle = angle + (n > 1 ? Math.atan(1 / Math.sqrt(n-1)) : 0);
          
          const A = { x: 0, y: 0 }; 
          const B = { x: px, y: py }; 
          
          const C = { 
            x: radius * Math.cos(newAngle), 
            y: radius * Math.sin(newAngle) 
          };
          
          if(distanceToSegment(x, y, A.x, A.y, B.x, B.y) < eps) return true;
          if(distanceToSegment(x, y, B.x, B.y, C.x, C.y) < eps) return true;
          if(distanceToSegment(x, y, A.x, A.y, C.x, C.y) < eps) return true;
          
          px = C.x;
          py = C.y;
          angle = newAngle;
        }
        return false;
      }

      function distanceToSegment(x, y, x1, y1, x2, y2){
        const dx = x2 - x1, dy = y2 - y1;
        const len2 = dx*dx + dy*dy;
        if(len2 === 0) return Math.hypot(x - x1, y - y1);
        
        let t = ((x - x1)*dx + (y - y1)*dy) / len2;
        t = Math.max(0, Math.min(1, t));
        
        const px = x1 + t*dx;
        const py = y1 + t*dy;
        return Math.hypot(x - px, y - py);
      }
    </script>
  </body>
</html>
